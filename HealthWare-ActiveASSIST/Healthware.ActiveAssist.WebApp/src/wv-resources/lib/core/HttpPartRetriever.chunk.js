/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{364:function(Da,xa,z){z.r(xa);z.d(xa,"ByteRangeRequest",function(){return w});var na=z(2),ia=z(0);z.n(ia);var ka=z(1),ea=z(124);Da=z(78);var da=z(205),x=z(60),r=z(56),n=z(204),a=z(140);z=z(319);var b=[],f=[],h=window,y=function(){return function(){this.al=1}}(),e;(function(fa){fa[fa.UNSENT=0]="UNSENT";fa[fa.DONE=4]="DONE"})(e||(e={}));var w=function(){function fa(ja,ba,ha,ca){var la=this;this.url=ja;this.range=ba;this.gf=ha;
this.withCredentials=ca;this.qX=e;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);h.Uint8Array&&(this.request.responseType="arraybuffer");ca&&(this.request.withCredentials=ca);aa.DISABLE_RANGE_HEADER||(Object(ia.isUndefined)(ba.stop)?this.request.setRequestHeader("Range","bytes="+ba.start):this.request.setRequestHeader("Range",["bytes=",ba.start,"-",ba.stop-1].join("")));this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");ha&&Object.keys(ha).forEach(function(ua){la.request.setRequestHeader(ua,
ha[ua])});this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=n.a.NOT_STARTED}fa.prototype.start=function(ja){var ba=this,ha=this.request;ha.onreadystatechange=function(){if(ba.aborted)return ba.status=n.a.ABORTED,ja({code:n.a.ABORTED});if(this.readyState===ba.qX.DONE){ba.Cz();var ca=0===window.document.URL.indexOf("file:///");200===ha.status||206===ha.status||ca&&0===ha.status?
(ca=h.kP(this),ba.$I(ca,ja)):(ba.status=n.a.ERROR,ja({code:ba.status,status:ba.status}))}};this.request.send(null);this.status=n.a.STARTED};fa.prototype.$I=function(ja,ba){this.status=n.a.SUCCESS;if(ba)return ba(!1,ja)};fa.prototype.abort=function(){this.Cz();this.aborted=!0;this.request.abort()};fa.prototype.Cz=function(){var ja=Object(a.c)(this.url,this.range,f);-1!==ja&&f.splice(ja,1);if(0<b.length){ja=b.shift();var ba=new fa(ja.url,ja.range,this.gf,this.withCredentials);ja.request=ba;f.push(ja);
ba.start(Object(a.d)(ja))}};fa.prototype.extend=function(ja){var ba=Object.assign({},this,ja.prototype);ba.constructor=ja;return ba};return fa}(),aa=function(fa){function ja(ba,ha,ca,la,ua){ca=fa.call(this,ba,ca,la)||this;ca.cl={};ca.fy=ha;ca.url=ba;ca.DISABLE_RANGE_HEADER=!1;ca.Bv=w;ca.NJ=3;ca.gf=ua||{};return ca}Object(na.c)(ja,fa);ja.prototype.It=function(ba,ha,ca){var la=-1===ba.indexOf("?")?"?":"&";switch(ca){case !1:case r.a.NEVER_CACHE:ba=ba+la+"_="+Object(ia.uniqueId)();break;case !0:case r.a.CACHE:ba=
ba+la+"_="+ha.start+","+(Object(ia.isUndefined)(ha.stop)?"":ha.stop)}return ba};ja.prototype.AN=function(ba,ha,ca,la){void 0===ca&&(ca={});return new this.Bv(ba,ha,ca,la)};ja.prototype.Q2=function(ba,ha,ca,la,ua){for(var ma=0;ma<b.length;ma++)if(Object(ia.isEqual)(b[ma].range,ha)&&Object(ia.isEqual)(b[ma].url,ba))return b[ma].hg.push(la),b[ma].CA++,null;for(ma=0;ma<f.length;ma++)if(Object(ia.isEqual)(f[ma].range,ha)&&Object(ia.isEqual)(f[ma].url,ba))return f[ma].hg.push(la),f[ma].CA++,null;ca={url:ba,
range:ha,fy:ca,hg:[la],CA:1};if(0===b.length&&f.length<this.NJ)return f.push(ca),ca.request=this.AN(ba,ha,ua,this.withCredentials),ca;b.push(ca);return null};ja.prototype.Fm=function(ba,ha,ca){var la=this.It(ba,ha,this.fy);(ba=this.Q2(la,ha,this.fy,ca,this.gf))&&ba.request.start(Object(a.d)(ba));return function(){var ua=Object(a.c)(la,ha,f);if(-1!==ua){var ma=--f[ua].CA;0===ma&&f[ua].request&&f[ua].request.abort()}else ua=Object(a.c)(la,ha,b),-1!==ua&&(ma=--b[ua].CA,0===ma&&b.splice(ua,1))}};ja.prototype.SO=
function(){return{start:-ea.a}};ja.prototype.N5=function(){var ba=-(ea.a+ea.e);return{start:ba-ea.d,end:ba}};ja.prototype.qr=function(ba){var ha=this;this.ky=!0;var ca=ea.a;this.Fm(this.url,this.SO(),function(la,ua,ma){function sa(){var oa=ha.Gd.PO();ha.Fm(ha.url,oa,function(ra,ta){if(ra)return Object(ka.i)("Error loading central directory: "+ra),ba(ra);ta=Object(x.a)(ta);if(ta.length!==oa.stop-oa.start)return ba("Invalid XOD file: Zip central directory data is wrong size! Should be "+(oa.stop-oa.start)+
" but is "+ta.length);ha.Gd.cS(ta);ha.jE=!0;ha.ky=!1;return ba(!1)})}if(la)return Object(ka.i)("Error loading end header: "+la),ba(la,ua,ma);ua=Object(x.a)(ua);if(ua.length!==ca)return ba("Invalid XOD file: Zip end header data is wrong size!");try{ha.Gd=new da.a(ua)}catch(oa){return ba(oa)}ha.Gd.g7?ha.Fm(ha.url,ha.N5(),function(oa,ra){if(oa)return Object(ka.i)("Error loading zip64 header: "+oa),ba(oa);ra=Object(x.a)(ra);ha.Gd.y7(ra);sa()}):sa()})};ja.prototype.hP=function(ba){ba(Object.keys(this.Gd.em))};
ja.prototype.PH=function(ba,ha){var ca=this;if(this.Gd.sN(ba)){var la=this.Gd.sz(ba);if(la in this.cl){var ua=this.kh[ba];ua.nq=this.cl[la];ua.nq.al++;ua.cancel=ua.nq.cancel}else{var ma=this.Gd.m4(ba),sa=this.Fm(this.url,ma,function(ra,ta){ra?(Object(ka.i)('Error loading part "'+ba+'": '+ra),ca.Fm(ca.url,ma,function(qa,wa){if(qa)return ha(qa,ba);ca.gS(wa,ma,la,ba,ha)})):ca.gS(ta,ma,la,ba,ha)}),oa=this.kh[ba];oa&&(oa.mU=!0,oa.cancel=function(){oa.nq.al--;0===oa.nq.al&&(sa(),delete ca.cl[la])},this.cl[la]=
new y(la),oa.nq=this.cl[la],oa.nq.cancel=oa.cancel)}}else delete this.kh[ba],ha(Error('File not found: "'+ba+'"'),ba)};ja.prototype.gS=function(ba,ha,ca,la,ua){if(ba.length!==ha.stop-ha.start)ua(Error("Part data is wrong size!"),la);else{do{if(!this.cl[ca])return;la=this.cl[ca].al;for(var ma=ha.gp.length,sa=0;sa<ma;++sa){var oa=ha.gp[sa];ua(!1,oa.bp,ba["string"===typeof ba?"substring":"subarray"](oa.start,oa.stop),this.Gd.eQ(oa.bp));oa.bp in this.kh&&delete this.kh[oa.bp]}}while(la!==this.cl[ca].al);
delete this.cl[ca]}};ja.DISABLE_RANGE_HEADER=!1;ja.NJ=3;return ja}(Da.a);(function(fa){function ja(ba,ha,ca){var la=fa.call(this)||this,ua;for(ua in ba)la[ua]=ba[ua];la.Rga=ba;la.startOffset=ha;la.endOffset=ca;la.AN=function(ma,sa,oa,ra){Object(ia.isUndefined)(sa.stop)?(sa.start+=la.endOffset,sa.stop=la.endOffset):(sa.start+=la.startOffset,sa.stop+=la.startOffset);ma=la.It(la.url,sa,la.fy);return new ba.Bv(ma,sa,oa,ra)};return la}Object(na.c)(ja,fa);return ja})(aa);Object(z.a)(aa);Object(z.b)(aa);
xa["default"]=aa}}]);}).call(this || window)
