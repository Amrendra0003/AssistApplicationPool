<div class="col-xs-12 col-md-12 col-sm-12 d-flex" [ngClass]=this.currentTheme>
  <app-spinner-overlay *ngIf="this.showLoader == true">
  </app-spinner-overlay>
  <div class="col-xs-2 col-md-2 col-sm-2 mt-5">
    <div class="col-xs-12 col-md-12 col-sm-12 d-flex" *ngxPermissionsOnly="['ViewComponentPersonalBasicInfo']">
      <div [ngClass]="(this.basicInfoFlag == true)?'dasboard-side-div':''"
        class="col-xs-12 col-md-12 col-sm-12 dasboard-side-label  mt-2">
        <label (click)="basicInfo()" class="dashboard-p2 pointer"
          [ngClass]="(this.basicInfoFlag == true)?'dashboard-side-div-label':''">Basic Info</label>
        <span style="position: absolute; right: 10px;">
          <img *ngIf="isBasicSaved == false || isInfoComplete == false " src="assets/images/icons/invalid-icon.svg">
          <img *ngIf="isBasicSaved == true" src="assets/images/icons/valid-icon.svg">
        </span>
        <span class="upperCurve" *ngIf="this.basicInfoFlag == true"></span>
        <span class="lowerCurve" *ngIf="this.basicInfoFlag == true"></span>
      </div>
    </div>
    <div class="col-xs-12 col-md-12 col-sm-12 d-flex" *ngxPermissionsOnly="['ViewComponentPersonalHomeAddress']">
      <div [ngClass]="(this.homeAddressFlag == true)?'dasboard-side-div':''"
        class="col-xs-12 col-md-12 col-sm-12 dasboard-side-label  mt-2">
        <label (click)="homeAddress()" class="dashboard-p2 pointer"
          [ngClass]="(this.homeAddressFlag == true)?'dashboard-side-div-label':''">{{HomeAddress}}</label>
        <span style="position: absolute; right: 10px;">
          <img *ngIf="isHomeSaved == false || isHomeComplete == false" src="assets/images/icons/invalid-icon.svg">
          <img *ngIf="isHomeSaved == true" src="assets/images/icons/valid-icon.svg">
        </span>
        <span class="upperCurve" *ngIf="this.homeAddressFlag == true"></span>
        <span class="lowerCurve" *ngIf="this.homeAddressFlag == true"></span>
      </div>
    </div>
    <div class="col-xs-12 col-md-12 col-sm-12 d-flex" *ngxPermissionsOnly="['ViewComponentPersonalWorkAddress']">
      <div [ngClass]="(this.workAddressFlag == true)?'dasboard-side-div':''"
        class="col-xs-12 col-md-12 col-sm-12 dasboard-side-label  mt-2">
        <label (click)="workAddress()" class="dashboard-p2 pointer"
          [ngClass]="(this.workAddressFlag == true)?'dashboard-side-div-label':''">{{workAddress1}}</label>
        <span style="position: absolute; right: 10px;">
          <img *ngIf="isWorkSaved == false || isWorkComplete == false" src="assets/images/icons/invalid-icon.svg">
          <img *ngIf="isWorkSaved == true" src="assets/images/icons/valid-icon.svg">
        </span>
        <span class="upperCurve" *ngIf="this.workAddressFlag == true"></span>
        <span class="lowerCurve" *ngIf="this.workAddressFlag == true"></span>
      </div>
    </div>
  </div>
  <div class="col-xs-10 col-md-10 col-sm-10 dashboard-boxshadow mb-5 px-4 py-4" id="basicInfo"
    *ngIf="this.basicInfoFlag == true">
    <div *ngxPermissionsOnly="['ViewComponentPersonalBasicInfo']">
      <div class="col-xs-12 col-md-12 col-sm-12">
        <div class="d-flex"> <img src="assets/images/icons/basicInfo-user-icon.svg" class="dash-icon" /><label
            class="dashboard-p1 mx-2 mt-1"><b>{{PatientBasicInfo}}</b></label></div>
        <form autocomplete="off" [formGroup]="basicInfoForm" #myform="ngForm" [ngClass]="{disabledDiv: !isEditAllowed}">
          <div class="col-xs-12 col-md-12 col-sm-12">
            <div class="col-xs-12 col-md-12 col-sm-12 d-flex">
              <input autocomplete="false" name="hidden" type="text" style="display:none;">
              <div class="col-xs-1 col-md-2 col-lg-2 col-xl-1 col-sm-1 mt-3">
                <input hidden type="file" id="file" #file (change)="handleFileInput($event)" accept=".png, .jpg">
                <div class="d-flex profileImage maxWidthUnset">
                  <img [src]="this.profileImageUrl" class="dash-userEditImg" />
                  <div>
                    <div class="editIcon">
                      <img (click)="file.click()" src="assets/images/icons/edit-avatar.svg" style="cursor: pointer;"
                        tooltip="Edit" placement="bottom" />
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-xs-10 col-md-10 col-sm-10 row g-3 ms-4 me-1 mt-1">
                <div [ngClass]=" this.showAdvocatePanel == true? 'col-md-6':'col-md-6'">
                  <div style="position: relative;">
                    <input type="text" class="form-control textfield-label" id="firstName" [(ngModel)]="firstName"
                      placeholder="First Name" formControlName="firstName" maxlength="51"
                      (keydown.enter)="$event.preventDefault()"
                      [ngClass]="basicInfoForm.get('firstName').errors && myform.submitted?'form-control-invalid': 'form-control'">
                  </div>
                  <div *ngIf="basicInfoForm.get('firstName').hasError('required')&& myform.submitted"
                    class="small text-danger mt-1">{{NameReq}}</div>
                  <div *ngIf="basicInfoForm.get('firstName').hasError('pattern')" class="small text-danger mt-1">
                    {{NameAlp}}</div>
                  <div *ngIf="basicInfoForm.get('firstName').hasError('maxlength')" class="small text-danger mt-1">
                    {{NameMax}}</div>
                  <div *ngIf="basicInfoForm.get('firstName').hasError('minlength')" class="small text-danger mt-1">
                    {{NameChar}}</div>
                </div>
                <div [ngClass]=" this.showAdvocatePanel == true? 'col-md-6':'col-md-6'">
                  <div style="position: relative;">
                    <input type="text" class="form-control textfield-label" id="middleName" [(ngModel)]="middleName"
                      placeholder="Middle Name" formControlName="middleName" maxlength="51"
                      (keydown.enter)="$event.preventDefault()"
                      [ngClass]="basicInfoForm.get('middleName').errors && myform.submitted?'form-control-invalid': 'form-control'">
                  </div>
                  <div *ngIf="basicInfoForm.get('middleName').hasError('pattern')" class="small text-danger mt-1">
                    {{MidNameAlp}}</div>
                  <div *ngIf="basicInfoForm.get('middleName').hasError('maxlength')" class="small text-danger mt-1">
                    {{MidNameMax}}</div>
                </div>
                <div [ngClass]=" this.showAdvocatePanel == true? 'col-md-6':'col-md-6'">
                  <div style="position: relative;">
                    <input type="text" class="form-control textfield-label" id="lastName" [(ngModel)]="lastName"
                      placeholder="Last Name" formControlName="lastName" maxlength="51"
                      (keydown.enter)="$event.preventDefault()"
                      [ngClass]="basicInfoForm.get('lastName').errors && myform.submitted?'form-control-invalid': 'form-control'">
                  </div>
                  <div *ngIf="basicInfoForm.get('lastName').hasError('required')&& myform.submitted"
                    class="small text-danger mt-1">{{LastNamereq}}</div>
                  <div *ngIf="basicInfoForm.get('lastName').hasError('pattern')" class="small text-danger mt-1">
                    {{LastNameAlp}}</div>
                  <div *ngIf="basicInfoForm.get('lastName').hasError('maxlength')" class="small text-danger mt-1">
                    {{LastNameMax}}</div>
                </div>
                <div
                  [ngClass]="(this.virtualAssistPadding != 'virtual-assist-padding-right')? 'col-xs-2 col-md-2 col-sm-2' :'col-xs-3 col-md-3 col-sm-3' "
                  [ngClass]="(this.showAdvocatePanel == true) ? 'col-xs-3 col-md-3 col-sm-3' :'col-md-4 col-lg-3 col-xl-2 ' ">
                  <div style="position: relative;">
                    <input type="text" class="form-control textfield-label" id="suffix" [(ngModel)]="suffix"
                      placeholder="Suffix" formControlName="suffix" maxlength="51"
                      (keydown.enter)="$event.preventDefault()"
                      [ngClass]="basicInfoForm.get('suffix').errors && myform.submitted?'form-control-invalid': 'form-control'">
                  </div>
                  <div *ngIf="basicInfoForm.get('suffix').hasError('pattern')" class="small text-danger mt-1"
                    style="white-space: nowrap;">{{SuffixAlp}}</div>
                  <div *ngIf="basicInfoForm.get('suffix').hasError('maxlength')" class="small text-danger mt-1"
                    style="white-space: nowrap;">{{SuffixMax}}</div>
                </div>
                <div [ngClass]=" this.showAdvocatePanel == true? 'col-md-6':'col-md-6'">
                  <div style="position: relative;">
                    <input type="text" class="form-control textfield-label" id="maiden" [(ngModel)]="maiden"
                      placeholder="Maiden Name(if applicable)" formControlName="maiden" maxlength="21"
                      (keydown.enter)="$event.preventDefault()"
                      [ngClass]="basicInfoForm.get('maiden').errors && myform.submitted?'form-control-invalid': 'form-control'">
                  </div>
                  <div *ngIf="basicInfoForm.get('maiden').hasError('pattern')" class="small text-danger mt-1">
                    {{MaidenNameAlp}}</div>
                  <div *ngIf="basicInfoForm.get('maiden').hasError('maxlength')" class="small text-danger mt-1">
                    {{MaidenNameMax}}</div>
                </div>
                <div [ngClass]=" this.showAdvocatePanel == true? 'col-md-6':'col-md-6'"
                  style="background-color: transparent; color: transparent;" aria-readonly="true">
                  <input type="text" class="form-control textfield-label" maxlength="50" readonly hidden>
                </div>
                <div [ngClass]=" this.showAdvocatePanel == true? 'col-md-6 d-flex':'col-md-6 d-flex'">
                  <div class="col-12" style="position: relative;" [(bsValue)]="this.bsVal" bsDatepicker
                    (keydown.enter)="$event.preventDefault()" (bsValueChange)="selectDate($event)" [maxDate]="today"
                    #bs="bsDatepicker" (bsValueChange)="bs.hide();">
                    <input type="text" class="form-control textfield-label" id="dob" [(ngModel)]="dob"
                      placeholder="mm/dd/yyyy" formControlName="dob"
                      [ngClass]="basicInfoForm.get('dob').errors && myform.submitted?'form-control-invalid': 'form-control'"
                      maxlength="10" minlength="10" (keypress)='keyPress($event)' (keyup)="captureDateInDatepicker()"
                      (keydown.tab)="closeCalendar()" (keydown.enter)="closeCalendar()">
                    <div *ngIf="basicInfoForm.get('dob').hasError('required')&& myform.submitted"
                      class="small text-danger mt-1">{{DateReq}}</div>
                    <div *ngIf="basicInfoForm.get('dob').hasError('minlength')" class="small text-danger mt-1">
                      {{DateFormate}} </div>
                    <div *ngIf="basicInfoForm.get('dob').hasError('validateDateFormat')" class="small text-danger mt-1">
                      {{DateFormate}}</div>
                    <div *ngIf="basicInfoForm.get('dob').hasError('futureDateValidation')"
                      class="small text-danger mt-1">
                      {{DateFut}}</div>
                  </div>
                  <div style="float:right;">
                    <i style="position: absolute;"><img style="cursor: pointer;margin-left: -33px;"
                        src="assets/images/icons/cake-candle.svg" /></i>
                  </div>
                </div>
                <div [ngClass]=" this.showAdvocatePanel == true? 'col-md-6':'col-md-6'">
                  <div style="position: relative;">
                    <select class="form-select form-select-sm dropdown-select-label mdb-select md-form" id="gender"
                      [(ngModel)]="gender" aria-label="form-select-sm example" formControlName="gender" required
                      [ngClass]="basicInfoForm.get('gender').errors && myform.submitted?'form-control-invalid': 'form-control'">
                      <option value="" hidden disabled>Gender</option>
                      <option *ngFor="let data of this.genderval | keyvalue" value="{{data.value}}">{{data.value}}
                      </option>
                    </select>
                  </div>
                  <div *ngIf="basicInfoForm.get('gender').hasError('required')&& myform.submitted"
                    class="small text-danger mt-1">{{GenderReq}}</div>
                </div>
                <div [ngClass]=" this.showAdvocatePanel == true? 'col-md-6':'col-md-6'">
                  <div style="position: relative;">
                    <select class="form-select form-select-sm dropdown-select-label" id="maritalStatus"
                      aria-label="form-select-sm example" [(ngModel)]="maritalStatus" formControlName="maritalStatus"
                      required
                      [ngClass]="basicInfoForm.get('maritalStatus').errors && myform.submitted?'form-control-invalid': 'form-control'">
                      <option value="" hidden disabled>Marital</option>
                      <option *ngFor="let data of this.martialStatusVal | keyvalue" value={{data.value}}>{{data.value}}
                      </option>
                    </select>
                  </div>
                  <div *ngIf="basicInfoForm.get('maritalStatus').hasError('required')&& myform.submitted"
                    class="small text-danger mt-1">{{MartialReq}}</div>
                </div>
                <div class="col-12">
                  <input type="text" class="form-control textfield-label" id="email" [(ngModel)]="email" maxlength="101"
                    placeholder="Email Id" formControlName="email" (keydown)="space($event)"
                    (keydown.enter)="$event.preventDefault()"
                    [ngClass]="basicInfoForm.get('email').errors && myform.submitted?'form-control-invalid': 'form-control'">
                  <div *ngIf="basicInfoForm.get('email').hasError('required')&& myform.submitted"
                    class="small text-danger mt-1">{{EmailReq}}</div>
                  <div *ngIf="basicInfoForm.get('email').hasError('pattern')" class="small text-danger mt-1">
                    {{EmailVal}}</div>
                  <div *ngIf="basicInfoForm.get('email').hasError('maxlength')" class="small text-danger mt-1">
                    {{EmailMax}}</div>
                </div>
                <div [ngClass]="this.showAdvocatePanel == true? 'col-md-12 col-lg-6':'col-md-7 col-lg-6'"
                  style="position: relative;">
                  <div style="position:absolute; padding-left: 8px;">
                    <div class="input-group-prepend span-input">
                      <span class="input-group-text span-input-data">
                        {{Cell}} </span>
                    </div>
                  </div>
                  <div style="position: relative;">
                    <div class="mt-2" style="position:absolute; padding-left: 58px;" include="form-input-select()">
                      <select class="dropdown-select-label" style="border:none; outline:none;width:48px;"
                        id="countyCode" [(ngModel)]="countyCode" formControlName="countyCode" required>
                        <option value="" hidden disabled>+1</option>
                        <option *ngFor="let data of this.phoneCode | keyvalue" value="{{data.value}}">
                          +{{data.value}}
                        </option>
                      </select>
                    </div>
                  </div>
                  <span>
                    <input type="text" mask="(000) 000-0000" style="padding-left: 110px;"
                      class="form-control textfield-label" id="cellno" [(ngModel)]="cellno" placeholder="Cell Number"
                      formControlName="cellno" (keydown.enter)="$event.preventDefault()"
                      [ngClass]="basicInfoForm.get('cellno').errors && myform.submitted?'form-control-invalid': 'form-control'">
                    <div *ngIf="basicInfoForm.get('cellno').hasError('required')&& myform.submitted"
                      class="small text-danger mt-1">{{CellNumReq}}</div>
                    <div *ngIf="basicInfoForm.get('cellno').hasError('minlength')" class="small text-danger mt-1">
                      {{CellVal}}</div>
                  </span>
                </div>
                <!-- SSN -->
                <div [ngClass]="this.showAdvocatePanel == true? 'col-md-12 col-lg-6':'col-md-5 col-lg-6'">
                  <div style="position:absolute;padding-left: 8px;">
                    <div class="input-group-prepend span-input"><span class="input-group-text span-input-data"> {{SSN}}
                      </span> </div>
                  </div>
                  <span class="">
                    <input type="text" style="padding-left: 73px;" class="form-control textfield-label" id="ssn"
                      [(ngModel)]="ssn" placeholder="000-00-0000" formControlName="ssn" [hiddenInput]="maskEnabled"
                      mask="XXX-XX-0000" (focus)="focusIn()" (blur)="focusOut()" (input)="ssnChange($event)"
                      [ngClass]="basicInfoForm.get('ssn').errors && myform.submitted?'form-control-invalid': 'form-control'">
                  </span>
                </div>
                <!-- Reason No SSN -->
                <div [ngClass]=" this.showAdvocatePanel == true? 'col-md-12 col-lg-6':'col-md-7 col-lg-6'">
                  <div style="position: relative;">
                    <select class="form-select form-select-sm dropdown-select-label" id="reasonNoSSN"
                      (change)="noSSNChange()" [(ngModel)]="reasonNoSSN" aria-label="form-select-sm example"
                      formControlName="reasonNoSSN"
                      [ngClass]="basicInfoForm.get('reasonNoSSN').errors && myform.submitted?'form-control-invalid': 'form-control'">
                      <option value="" hidden disabled>Reason No SSN</option>
                      <option value=null hidden disabled>Reason No SSN</option>
                      <option *ngFor="let data of this.reasons | keyvalue" value="{{data.value}}">{{data.value}}
                      </option>
                    </select>
                  </div>
                  <div *ngIf="basicInfoForm.get('reasonNoSSN').hasError('required')&& myform.submitted"
                    class="small text-danger mt-1">Kindly select reason for no SSN!</div>
                </div>
                <div [ngClass]="this.showAdvocatePanel == true? 'col-md-12 col-lg-6':'col-md-5 col-lg-6'">
                </div>
                <div [ngClass]="(this.virtualAssistPadding != 'virtual-assist-padding-right')? 'col-md-8 col-sm-6 col-xs-6 col-xl-6 col-lg-6':
              'col-md-8 col-lg-8 col-sm-6 col-xs-6 col-xl-6' " [ngClass]="this.showAdvocatePanel == true? 'col-md-12 col-lg-8 col-sm-6 col-xs-6 col-xl-6':
              'col-md-8 col-sm-6 col-xs-6 col-xl-6 col-lg-6'">
                  <div style="float: left;">
                    <label class="dashboard-p1 mt-2" style="font-weight: normal;">Are you the guarantor?</label>
                  </div>
                  <div *ngIf="this.isGuarantorSaved != true" style="float: right;">
                    <mat-button-toggle-group name="fontStyle" aria-label="Font Style" id="isguarantor"
                      formControlName="isguarantor" [(ngModel)]="isguarantor">
                      <mat-button-toggle value="false"
                        style="border-top-left-radius: 25px;border-bottom-left-radius: 25px;">{{No}}
                      </mat-button-toggle>
                      <mat-button-toggle value="true"
                        style="border-top-right-radius: 25px; border-bottom-right-radius: 25px;">{{Yes}}
                      </mat-button-toggle>
                    </mat-button-toggle-group>
                  </div>
                  <div *ngIf="this.isGuarantorSaved == true" style="float: right;" id="basicCss">
                    <mat-button-toggle-group name="fontStyle" aria-label="Font Style" id="isguarantor"
                      formControlName="isguarantor" [(ngModel)]="isguarantor">
                      <mat-button-toggle value="false" data-bs-toggle="modal" data-bs-target="#toggleModal"
                        id="matfocus" ngbDropdownItem
                        style="border-top-left-radius: 25px;border-bottom-left-radius: 25px;padding: 0 !important;">
                        {{No}}
                      </mat-button-toggle>
                      <mat-button-toggle value="true" data-bs-toggle="modal" data-bs-target="#toggleModal" id="matfocus"
                        ngbDropdownItem
                        style="border-top-right-radius: 25px; border-bottom-right-radius: 25px;padding: 0 !important;">
                        {{Yes}}
                      </mat-button-toggle>
                    </mat-button-toggle-group>
                    <div class="modal fade modal-overlay" id="toggleModal" aria-labelledby="toggleModalLabel"
                      role="dialog" data-bs-backdrop="false">
                      <div class="modal-dialog" style="margin-top: 15%;">
                        <div class="modal-content">
                          <div class="modal-body">
                            <div class="text-center py-4">
                              <b class="modal-popup-title text-center">{{ChangeGuarantor}}</b>
                            </div>
                            <div class="d-flex text-center py-1 justify-content-center">
                              <button class="btn btn-outline mx-4 login-label pointer" data-bs-dismiss="modal"
                                (click)="checkG()">{{No}}</button>
                              <button class="btn btn-primary mx-4 login-label pointer " style="color: white;"
                                data-bs-dismiss="modal">{{Yes}}</button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-xs-12 col-md-12 col-sm-12 mt-4 d-flex">
            <button (click)="QuickAssessmentResultTab()" type="submit"
              class="btn btn-primary  login-text-field shadow-none mx-2 enabledDiv"
              style="width:38px;background-color: transparent;border:none;color: #FFFFFF; " tooltip="Back">
              <div class="ellipse d-flex ellipse1"
                style="box-shadow: rgba(50, 50, 93, 0.25) 0px 6px 12px -2px, rgba(0, 0, 0, 0.3) 0px 3px 7px -3px;">
                <img src="assets/images/icons/left-chevron.svg" alt="mail-msg" class="next-round-icon" />
              </div>
            </button>
            <button type="submit" class="btn btn-primary  login-text-field shadow-none enabledDiv"
              style="width:38px;background-color: transparent;border:none;color: #FFFFFF;" tooltip="Next"
              (click)="basicInfoNext(basicInfoForm.value)">
              <div class="ellipse d-flex ellipse1"
                style="box-shadow: rgba(50, 50, 93, 0.25) 0px 6px 12px -2px, rgba(0, 0, 0, 0.3) 0px 3px 7px -3px;background-color: #2494ED;">
                <img src="assets/images/icons/right-chevron.svg" alt="mail-msg" class="next-round-icon" />
              </div>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="col-xs-10 col-md-10 col-sm-10 dashboard-boxshadow mb-5 px-4 py-4" id="homeAddress"
    *ngIf="this.homeAddressFlag == true">
    <div *ngxPermissionsOnly="['ViewComponentPersonalHomeAddress']">
      <app-dashboard-home-address (nextButtonClicked)='nextButtonClickedEvent($event)'
        (backToPersonal)='backToPersonalEvent($event)' [homeStreetAddress]="streetName" [suite]="suite" [city]="city"
        [country]="country" [homeNo]="homeNo" [state]="state" [pincode]="pincode" [stateCode]="stateCode"
        [homeData]="datas" [homeEntityType]="entityType" [homeTown]="town" [homeAddressId]="addressID"
        [homeGuarantor]="isguarantor" [homeCountyCode]="personalcountyCode">
      </app-dashboard-home-address>
    </div>
  </div>
  <div class="col-xs-10 col-md-10 col-sm-10 dashboard-boxshadow mb-5 px-4 py-4" id="workAddress"
    *ngIf="this.workAddressFlag == true">
    <div *ngxPermissionsOnly="['ViewComponentPersonalWorkAddress']">
      <app-dashboard-work-address [workEmployer]='employer' (backToPersonalHome)='backToPersonalHomeEvent($event)'
        [workStreetAddress]="streetName" [workSuite]="suite" [workCity]="city" [workCountry]="country"
        [workHomeNo]="homeNo" [workState]="state" [workPincode]="pincode" [workData]="datas"
        [workEntityType]="entityType" [workAddressId]="addressID" [workGuarantor]="isguarantor"
        [workCountyCode]="personalcountyCode">
      </app-dashboard-work-address>
    </div>
  </div>