<div class="col-xs-12 col-md-12 col-sm-12" [ngClass]=this.currentTheme>
    <app-spinner-overlay *ngIf="this.showLoader == true">
    </app-spinner-overlay>
    <div class="col-xs-12 col-md-12 col-sm-12 d-flex mb-3 dashboard-green-top-div">
        <div class="p-2">
            <img src="assets/images/icons/quick-note.svg" />
        </div>
        <div class="d-flex p-1">
            <label class="dashboard-quickAssessment-subtitle"
                *ngIf="this.isAdvocate == true "><b>{{DashboardProgramsInfo2}}</b>{{DashboardProgramsInfo2}}</label>
        </div>
    </div>
    <div class="col-xs-12 col-md-12 col-sm-12 dashboard-boxshadow mb-5 p-4" *ngIf="this.flagval==false">
        <div style="text-align: center;" class="my-5 py-5 ">
            <label class="dashboard-p2 py-5">Kindly evaluate household</label>
        </div>
    </div>
    <div class="col-xs-12 col-md-12 col-sm-12 d-flex" *ngIf="this.flagval==true">
        <div class="col-xs-2 col-md-2 col-sm-2 mt-5">
            <div class="col-xs-12 col-md-12 col-sm-12 d-flex" *ngxPermissionsOnly="['ViewProgramsInformation']">
                <div [ngClass]="(this.programsInfoFlag == true)?'dasboard-side-div':''"
                    class="col-xs-12 col-md-12 col-sm-12 dasboard-side-label  mt-2">
                    <label (click)="programsInfo()" class="dashboard-p2 pointer"
                        [ngClass]="(this.programsInfoFlag == true)?'dashboard-side-div-label':''">{{Programs}}</label>
                    <span class="upperCurve" *ngIf="this.programsInfoFlag == true"></span>
                    <span class="lowerCurve" *ngIf="this.programsInfoFlag == true"></span>
                </div>
            </div>
            <div class="col-xs-12 col-md-12 col-sm-12 d-flex" *ngxPermissionsOnly="['ViewComponentReviewNotes']">
                <div [ngClass]="(this.reviewNotesFlag == true)?'dasboard-side-div':''"
                    class="col-xs-12 col-md-12 col-sm-12 dasboard-side-label  mt-2">
                    <label (click)="ReviewNotes()" class="dashboard-p2 pointer"
                        [ngClass]="(this.reviewNotesFlag == true)?'dashboard-side-div-label':''">{{ReviewNotes1}}</label>

                    <span class="upperCurve" *ngIf="this.reviewNotesFlag == true"></span>
                    <span class="lowerCurve" *ngIf="this.reviewNotesFlag == true"></span>
                </div>
            </div>
        </div>
        <div class="col-xs-10 col-md-10 col-sm-10 dashboard-boxshadow mb-5 p-4" id="quickAssessment"
            [ngClass]="{disabledDiv: !isEditAllowed}" *ngIf="this.programsInfoFlag == true">
            <div class="col-xs-12 col-md-12 col-sm-12">
                <form [formGroup]="programForm">
                    <div class="col-xs-12 col-md-12 col-sm-12 " *ngFor="let data of this.result">
                        <div class="row w-100">
                            <div class="float-left mt-2"
                                [ngClass]=" data.status == 'Application Submitted'? 'col-xs-8 col-md-8 col-sm-8' : 'col-xs-9 col-md-8 col-sm-9 ' ">
                                <label class="dashboard-p1">{{data.programName}}</label>
                            </div>
                            <div class="col-xs-2 col-md-4 col-sm-2 text-align-right"
                                *ngIf="data.status != 'Application Submitted' ">
                                <mat-button-toggle-group [(ngModel)]="programData[data.programId]"
                                    formControlName="programStatus" name="fontStyle" aria-label="Font Style"
                                    (change)="applyPrograms($event,data.programId)">
                                    <mat-button-toggle class="toggleCss" value="false"
                                        style="border-top-left-radius: 25px;border-bottom-left-radius: 25px;">No
                                    </mat-button-toggle>
                                    <mat-button-toggle class="toggleCss" value="true"
                                        style="border-top-right-radius: 25px; border-bottom-right-radius: 25px;">Apply
                                    </mat-button-toggle>
                                </mat-button-toggle-group>
                            </div>
                            <div class="col-xs-2 col-md-4 col-sm-2 text-align-right"
                                *ngIf="data.status == 'Application Submitted' ">
                                <button class="btn application-submit"
                                    style="color: #FFFFFF;">{{ApplicationSubmitted}}</button>
                            </div>
                        </div>
                        <div class="col-xs-12 col-md-12 col-sm-12 mt-2 ">
                            <div class="login-label d-flex enabledDiv">
                                <fieldset class="pointer login-label" (click)="toShowBenefits(data.programId)">Benefits
                                </fieldset>
                                <a><img src="assets/images/icons/dropdown-icon.svg" alt="down-arrow "
                                        class="mx-2 pointer" (click)="toShowBenefits(data.programId)" /></a>
                                <button class="view-form" (click)=toShowForms(data.programId)
                                    [disabled]="data.status != 'Application Submitted' ">View Forms</button>
                                <img src="assets/images/icons/programs-down-chevron.svg" alt="down-arrow"
                                    class="mx-2 pointer" *ngIf="data.status == 'Application Submitted' " />
                                <img src="assets/images/icons/disable-next.svg" alt="down-arrow"
                                    class="disable-next mx-2 pointer" *ngIf="data.status != 'Application Submitted' " />
                                <button class="view-form" (click)="toShowVerification()"
                                    [disabled]="data.status != 'Application Submitted' ">Complete Verification</button>
                                <img src="assets/images/icons/programs-down-chevron.svg" alt="down-arrow"
                                    class="mx-2 pointer" *ngIf="data.status == 'Application Submitted' " />
                                <img src="assets/images/icons/disable-next.svg" alt="down-arrow"
                                    class="disable-next mx-2 pointer" *ngIf="data.status != 'Application Submitted' " />
                            </div>
                            <div class="col-xs-12 col-md-12 col-sm-12 mt-3 p-3" *ngIf="programOptions[data.programId]"
                                style="background-color: #EFF3F6;">
                                <label>
                                    {{data.benefits}}
                                </label>
                            </div>
                        </div>
                        <hr class="col-xs-12 col-md-12 col-sm-12 mt-2" />
                    </div>
                </form>
                <div class="col-xs-12 col-md-12 col-sm-12 my-5">
                    <span class="py-2 pe-1">
                        <img src="assets/images/icons/background-plusIcon.svg" class="pointer" data-bs-toggle="modal"
                            data-bs-target="#openProgramsForms" (click)="clearPrograms()" /></span>
                    <label class="dashboard-p2 mx-2">{{AddMorePrograms}}</label>
                </div>
                <div class="modal fade modal-overlay" id="openProgramsForms" aria-labelledby="openProgramsFormsLabel"
                    role="dialog" data-bs-backdrop="false" style="z-index: 1060 !important;">
                    <div class="modal-dialog" style="margin-top: 10%;">
                        <div class="modal-content themes-modal">
                            <div class="modal-body">
                                <div class="text-center py-4">
                                    <b class="modal-popup-title text-center"
                                        *ngIf="this.toShowEmptyRecords != true">{{SelectPrograms}}</b>
                                    <div *ngIf="this.toShowEmptyRecords == true">
                                        <label
                                            class="modal-popup-title text-center my-3">{{NoProgramsAvailable}}</label>
                                    </div>
                                    <form [formGroup]="addMoreProgramForm">
                                        <div class="form-group text-start" *ngIf="this.toShowEmptyRecords != true">
                                            <div class="col-md-12 pb-2"
                                                *ngFor="let radioOptions of this.morePrograms | keyvalue">
                                                <div class="form-check text-align-left">
                                                    <input
                                                        class="form-check-input dashboard-p2 pointer-events programs-checkbox"
                                                        [id]="radioOptions.key" type="checkbox"
                                                        (change)="onCheckboxChange($event)"
                                                        formControlName="programList" [value]="radioOptions.key"
                                                        required [checked]="false" />
                                                    <label class="mt-2 mx-3 dashboard-p2">{{radioOptions.value}}</label>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="d-flex text-center py-1 justify-content-center">
                                    <button class="btn btn-outline mx-2 login-label pointer"
                                        data-bs-dismiss="modal">{{Cancel}}</button>
                                    <button class="btn btn-primary mx-2 login-label pointer" data-bs-dismiss="modal"
                                        style="color: white;" (click)="applyMorePrograms()"
                                        *ngIf="this.toShowEmptyRecords != true"
                                        [disabled]="this.enableAddProgram == false">{{Next}}</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class=" mt-4" style="display: flex;">
                <button type="submit" class="btn btn-payment mb-3 px-4" (click)="goToReviewNotes()"
                    style="background-color: 1px solid #2494ED;color: #FFFFFF;">{{ReviewNotes1}}</button>
            </div>
        </div>
        <div class="col-xs-10 col-md-10 col-sm-10 dashboard-boxshadow mb-5 p-4" *ngIf="this.reviewNotesFlag == true">
            <div class="col-xs-12 col-md-12 col-sm-12">
                <div class="col-xs-12 col-md-12 col-sm-12 ">
                    <div class="col-xs-12 col-md-12 col-sm-12 mx-2" style="display: flex;">
                        <img src="assets/images/icons/review-notes.svg" class="dash-icon" />
                        <label class="dashboard-p1 mx-2 mt-1"><b>{{ReviewNotes1}}</b></label>
                    </div>
                    <form [formGroup]="reviewNotesForm" #myform="ngForm">
                        <div>
                            <div class="col-xs-12 col-md-12 col-sm-12 d-flex mt-2 "
                                *ngFor="let notes of this.reviewNote">
                                <div class="col-xs-12 col-md-12 col-sm-12 " style="position: relative;">
                                    <label class="dashboard-p2 py-2">{{notes.createdDate | date:'MMM d, y |
                                        h:mma'}}</label>
                                    <textarea type="text" class="form-control textfield-label" placeholder=""
                                        value="notes.reviewNote"
                                        style="padding: 15px 0 80px 10px;overflow: hidden;resize: none;pointer-events: none;"
                                        maxlength="150">{{notes.reviewNote}}</textarea>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-md-12 col-sm-12 d-flex mt-3 " *ngIf="this.showReviewNotes == 'true'">
                            <div class="col-xs-12 col-md-12 col-sm-12 " style="position: relative;">
                                <textarea type="text" class="form-control textfield-label" id="reviewNotes"
                                    placeholder="Enter notes here" formControlName="reviewNotes"
                                    [(ngModel)]="reviewNotes"
                                    [ngClass]="(reviewNotesForm.get('reviewNotes').hasError('required')&& myform.submitted)?'form-control-invalid': 'form-control' "
                                    style="padding: 15px 0 80px 10px;overflow: hidden;resize: none"
                                    maxlength="150"></textarea>
                            </div>
                        </div>
                        <div class="col-xs-12 col-md-12 col-sm-12 my-5" *ngIf="this.showReviewNotes == 'false'">
                            <span class="py-2 pe-1">
                                <img src="assets/images/icons/background-plusIcon.svg" class="pointer"
                                    (click)="reviewNotesArea()" /></span>
                            <label class="dashboard-p2 mx-2" (click)="reviewNotesArea()">Add Notes</label>
                        </div>
                        <div class="mt-4" style="display: flex;">
                            <button type="submit" class="btn btn-payment mb-3 px-4"
                                (click)="submitAssessment(reviewNotesForm.value)"
                                style="background-color: 1px solid #2494ED;color: #FFFFFF;">Submit Assessment</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>